"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[809],{9809:(re,J,u)=>{u.r(J),u.d(J,{AuthModule:()=>ee});var L=u(2864),g=u(8659),R=u(9665),O=u(827),ft=u(2355),r=u(4537),P=u(1379),mt=u(4929),d=u(8692),F=u(4945),M=u(3787),ht=u(4967),pt=u(4813),U=u(8168),I=u(7969),$=u(3568),z=u(5490),gt=u(815),dt=u(5598),G=u(5732),W=u(5998);const vt=["*"];let E;function b(e){return function yt(){if(void 0===E&&(E=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(E=e.trustedTypes.createPolicy("angular#components",{createHTML:o=>o}))}return E}()?.createHTML(e)||e}function q(e){return Error(`Unable to find icon with the name "${e}"`)}function Q(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function H(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class v{constructor(o,t,n){this.url=o,this.svgText=t,this.options=n}}let A=(()=>{class e{constructor(t,n,i,s){this._httpClient=t,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons"],this._document=i}addSvgIcon(t,n,i){return this.addSvgIconInNamespace("",t,n,i)}addSvgIconLiteral(t,n,i){return this.addSvgIconLiteralInNamespace("",t,n,i)}addSvgIconInNamespace(t,n,i,s){return this._addSvgIconConfig(t,n,new v(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,n,i,s){const a=this._sanitizer.sanitize(r.q3G.HTML,i);if(!a)throw H(i);const l=b(a);return this._addSvgIconConfig(t,n,new v("",l,s))}addSvgIconSet(t,n){return this.addSvgIconSetInNamespace("",t,n)}addSvgIconSetLiteral(t,n){return this.addSvgIconSetLiteralInNamespace("",t,n)}addSvgIconSetInNamespace(t,n,i){return this._addSvgIconSetConfig(t,new v(n,null,i))}addSvgIconSetLiteralInNamespace(t,n,i){const s=this._sanitizer.sanitize(r.q3G.HTML,n);if(!s)throw H(n);const a=b(s);return this._addSvgIconSetConfig(t,new v("",a,i))}registerFontClassAlias(t,n=t){return this._fontCssClassesByAlias.set(t,n),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const n=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,t);if(!n)throw Q(t);const i=this._cachedIconsByUrl.get(n);return i?(0,F.of)(T(i)):this._loadSvgIconFromConfig(new v(t,null)).pipe((0,U.b)(s=>this._cachedIconsByUrl.set(n,s)),(0,I.U)(s=>T(s)))}getNamedSvgIcon(t,n=""){const i=K(n,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(n);return a?this._getSvgFromIconSetConfigs(t,a):(0,M._)(q(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,F.of)(T(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,I.U)(n=>T(n)))}_getSvgFromIconSetConfigs(t,n){const i=this._extractIconWithNameFromAnySet(t,n);if(i)return(0,F.of)(i);const s=n.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe((0,$.K)(l=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(r.q3G.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(c)),(0,F.of)(null)})));return(0,ht.D)(s).pipe((0,I.U)(()=>{const a=this._extractIconWithNameFromAnySet(t,n);if(!a)throw q(t);return a}))}_extractIconWithNameFromAnySet(t,n){for(let i=n.length-1;i>=0;i--){const s=n[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,t,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,U.b)(n=>t.svgText=n),(0,I.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,F.of)(null):this._fetchIcon(t).pipe((0,U.b)(n=>t.svgText=n))}_extractSvgIconFromSet(t,n,i){const s=t.querySelector(`[id="${n}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,i);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),i);const l=this._svgElementFromString(b("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,i)}_svgElementFromString(t){const n=this._document.createElement("DIV");n.innerHTML=t;const i=n.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const n=this._svgElementFromString(b("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:a,value:l}=i[s];"id"!==a&&n.setAttribute(a,l)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(t.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(t,n){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),n&&n.viewBox&&t.setAttribute("viewBox",n.viewBox),t}_fetchIcon(t){const{url:n,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function _t(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const a=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,n);if(!a)throw Q(n);const l=this._inProgressUrlFetches.get(a);if(l)return l;const h=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe((0,I.U)(c=>b(c)),(0,z.x)(()=>this._inProgressUrlFetches.delete(a)),(0,gt.B)());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(t,n,i){return this._svgIconConfigs.set(K(t,n),i),this}_addSvgIconSetConfig(t,n){const i=this._iconSetConfigs.get(t);return i?i.push(n):this._iconSetConfigs.set(t,[n]),this}_svgElementFromConfig(t){if(!t.svgElement){const n=this._svgElementFromString(t.svgText);this._setSvgAttributes(n,t.options),t.svgElement=n}return t.svgElement}_getIconConfigFromResolvers(t,n){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](n,t);if(s)return St(s)?new v(s.url,null,s.options):new v(s,null)}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(G.eN,8),r.LFG(W.H7),r.LFG(d.K0,8),r.LFG(r.qLn))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function T(e){return e.cloneNode(!0)}function K(e,o){return e+":"+o}function St(e){return!(!e.url||!e.options)}const wt=(0,P.pj)(class{constructor(e){this._elementRef=e}}),Ft=new r.OlP("MAT_ICON_DEFAULT_OPTIONS"),bt=new r.OlP("mat-icon-location",{providedIn:"root",factory:function Ct(){const e=(0,r.f3M)(d.K0),o=e?e.location:null;return{getPathname:()=>o?o.pathname+o.search:""}}}),X=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Et=X.map(e=>`[${e}]`).join(", "),At=/^url\(['"]?#(.*?)['"]?\)$/;let Tt=(()=>{class e extends wt{constructor(t,n,i,s,a,l){super(t),this._iconRegistry=n,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=pt.w0.EMPTY,l&&(l.color&&(this.color=this.defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=(0,mt.Ig)(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const n=this._cleanupFontValue(t);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const n=this._cleanupFontValue(t);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const n=t.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let n=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const i=t.childNodes[n];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,n=(this.fontSet?[this._iconRegistry.classNameForFontAlias(this.fontSet)]:this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),n.forEach(i=>t.classList.add(i)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const n=this._elementsWithExternalReferences;n&&n.forEach((i,s)=>{i.forEach(a=>{s.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){const n=t.querySelectorAll(Et),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)X.forEach(a=>{const l=n[s],h=l.getAttribute(a),c=h?h.match(At):null;if(c){let m=i.get(l);m||(m=[],i.set(l,m)),m.push({name:a,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[n,i]=this._splitIconName(t);n&&(this._svgNamespace=n),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,n).pipe((0,dt.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${i}! ${s.message}`))})}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(A),r.$8M("aria-hidden"),r.Y36(bt),r.Y36(r.qLn),r.Y36(Ft,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,n){2&t&&(r.uIk("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet),r.ekj("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:vt,decls:1,vars:0,template:function(t,n){1&t&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),e})(),xt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[P.BQ,P.BQ]}),e})();var Z=u(9638),j=u(4325);let V=(()=>{class e{constructor(t,n){this.userService=t,this.router=n}canActivate(){return this.userService.isAuthorized$.pipe((0,I.U)(t=>!t||this.router.parseUrl("/")))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(j.K),r.LFG(L.F0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function tt(e,o,t,n){var a,i=arguments.length,s=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,o,t,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(i<3?a(s):i>3?a(o,t,s):a(o,t))||s);return i>3&&s&&Object.defineProperty(o,t,s),s}var N,e,f=u(92),rt=u(447),ot=u(8023),C=(()=>{return(e=C||(C={})).Email="email",e.Required="required",e.Match="match",e.MinLength="minlength",e.MaxLength="maxlength",e.Min="min",e.Max="max",e.Pattern="pattern",e.AppError="appError",e.Greater="greater",C;var e})();function it(e){return o=>o.pipe((0,$.K)(t=>{if(t instanceof rt.k){const{validationData:n}=t;return e instanceof ot.x?e.next(n):st(e,n),(0,M._)(()=>new rt.g("Invalid form data."))}return(0,M._)(()=>t)}))}function st(e,o){Object.keys(e.controls).forEach(n=>{const i=o[n],s=e.controls[n];i&&s&&("string"==typeof i?s.setErrors(N.buildAppError(i)):s instanceof f.nJ&&"object"==typeof i&&st(s,i))})}(e=N||(N={})).matchControl=function o(n,i=n){return s=>s.parent&&s.parent.get(n)?.value!==s.value?{[C.Match]:{controlName:n,controlTitle:i}}:null},e.buildAppError=function t(n){return{[C.AppError]:{message:n}}};var Rt=u(3528);const B=Symbol("Destroy$Prop");function at(){return e=>{if(function Ot(e){return null!=Object.getOwnPropertyDescriptor(e.prototype,B)}(e))return e;const o=e.prototype.ngOnDestroy,t=Symbol("Destroy$Value");return Object.defineProperty(e.prototype,B,{get(){return null==this[t]&&(this[t]=new ot.x),this[t]}}),e.prototype.ngOnDestroy=function(){null!=this[t]&&(this[t].next(),this[t].complete()),o&&o.call(this)},e}}function lt(e){const o=e[B];if(null==o)throw new Error("To use the `takeUntilDestroy` operator passed component should be wrapped with `DestroyableComponent` decorator");return(0,Rt.R)(o)}var Pt=u(3072),Mt=u(9018),Ut=u(1860),Zt=u(6466),jt=u(2085),Dt=u(8499),Bt=u(408);function ct(e){const o=(0,Pt.P)(()=>(e.next(!0),Mt.E));return t=>{const n=t.pipe((0,Zt.d)({refCount:!0,bufferSize:1})),i=n.pipe(function Yt(){return(0,jt.e)((e,o)=>{e.subscribe(new Dt.Q(o,Bt.Z))})}(),(0,z.x)(()=>e.next(!1)));return(0,Ut.T)(o,i,n)}}var ut=u(4121);function Jt(e,o){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const t=r.oxw();r.xp6(1),r.hij(" ",t.loginForm.getError("login")," ")}}function $t(e,o){1&e&&r._UZ(0,"mat-progress-bar",10)}function zt(e,o){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const t=r.oxw();r.xp6(1),r.hij(" ",t.loginForm.controls.email.getError("appError")," ")}}function Gt(e,o){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const t=r.oxw();r.xp6(1),r.hij(" ",t.loginForm.controls.password.getError("appError")," ")}}let y=class{constructor(o,t){this.formBuilder=o,this.userService=t,this.isLoading$=new ut.X(!1),this.shouldShowPassword=!0,this.loginForm=this.formBuilder.nonNullable.group({email:this.formBuilder.nonNullable.control("",[f.kI.required,f.kI.email]),password:this.formBuilder.nonNullable.control("",[f.kI.required])})}handleLogin(){this.loginForm.invalid||this.userService.login({email:this.loginForm.value.email??"",password:this.loginForm.value.password??""}).pipe(ct(this.isLoading$),it(this.loginForm),lt(this)).subscribe({error:()=>{this.loginForm.setErrors({login:"Wrong email or password"})}})}};y.\u0275fac=function(o){return new(o||y)(r.Y36(f.qu),r.Y36(j.K))},y.\u0275cmp=r.Xpm({type:y,selectors:[["camp-login-form"]],decls:23,vars:14,consts:[[1,"login-form",3,"formGroup","submit"],[4,"ngIf"],["mode","indeterminate",4,"ngIf"],["appearance","fill",1,"form__field"],["matInput","","placeholder","pat@example.com","formControlName","email","autocomplete","email","required",""],["matInput","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","autocomplete","current-password","formControlName","password",3,"type"],["type","button","matSuffix","",3,"click"],["appearance","fill"],["mat-button","","type","submit","color","primary",3,"disabled"],["routerLink","registration"],["mode","indeterminate"]],template:function(o,t){1&o&&(r.TgZ(0,"form",0),r.NdJ("submit",function(){return t.handleLogin()}),r.YNc(1,Jt,2,1,"mat-error",1),r.YNc(2,$t,1,0,"mat-progress-bar",2),r.ALo(3,"async"),r.TgZ(4,"mat-form-field",3)(5,"mat-label"),r._uU(6,"Email"),r.qZA(),r._UZ(7,"input",4),r.YNc(8,zt,2,1,"mat-error",1),r.qZA(),r.TgZ(9,"mat-form-field",3)(10,"mat-label"),r._uU(11,"Enter your password"),r.qZA(),r._UZ(12,"input",5),r.TgZ(13,"button",6),r.NdJ("click",function(){return t.shouldShowPassword=!t.shouldShowPassword}),r.TgZ(14,"mat-icon",7),r._uU(15),r.qZA()(),r.YNc(16,Gt,2,1,"mat-error",1),r.qZA(),r.TgZ(17,"div")(18,"button",8),r.ALo(19,"async"),r._uU(20," Log-in "),r.qZA(),r.TgZ(21,"a",9),r._uU(22," Register "),r.qZA()()()),2&o&&(r.Q6J("formGroup",t.loginForm),r.xp6(1),r.Q6J("ngIf",t.loginForm.hasError("login")),r.xp6(1),r.Q6J("ngIf",r.lcZ(3,10,t.isLoading$)),r.xp6(6),r.Q6J("ngIf",t.loginForm.controls.email.hasError("appError")),r.xp6(4),r.Q6J("type",t.shouldShowPassword?"password":"text"),r.xp6(1),r.uIk("aria-label","Hide password")("aria-pressed",t.shouldShowPassword),r.xp6(2),r.Oqu(t.shouldShowPassword?"visibility_off":"visibility"),r.xp6(1),r.Q6J("ngIf",t.loginForm.controls.password.hasError("appError")),r.xp6(2),r.Q6J("disabled",r.lcZ(19,12,t.isLoading$)))},dependencies:[d.O5,f._Y,f.Fj,f.JJ,f.JL,f.Q7,f.sg,f.u,L.yS,g.TO,g.KE,g.hX,g.R9,R.Nt,O.pW,Tt,Z.lW,d.Ov],styles:["[_nghost-%COMP%]{display:block;padding:20px}.form__field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),y=tt([at()],y);let Wt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["camp-login-page"]],decls:1,vars:0,consts:[[1,"login-form"]],template:function(t,n){1&t&&r._UZ(0,"camp-login-form",0)},dependencies:[y],styles:[".login-form[_ngcontent-%COMP%]{width:400px;margin:0 auto}[_nghost-%COMP%]{display:block;height:100%}"],changeDetection:0}),e})();function qt(e,o){1&e&&r._UZ(0,"mat-progress-bar",10)}function Qt(e,o){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Must be an email address "),r.qZA())}function Ht(e,o){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const t=r.oxw();r.xp6(1),r.hij(" ",t.registrationForm.controls.email.getError("appError").message," ")}}function Kt(e,o){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const t=r.oxw();r.xp6(1),r.hij(" ",t.registrationForm.controls.firstName.getError("appError").message," ")}}function Xt(e,o){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const t=r.oxw();r.xp6(1),r.hij(" ",t.registrationForm.controls.lastName.getError("appError").message," ")}}function Vt(e,o){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const t=r.oxw();r.xp6(1),r.hij(" ",t.registrationForm.controls.password.getError("appError").message," ")}}function kt(e,o){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Passwords not matched "),r.qZA())}let _=class{constructor(o,t){this.formBuilder=o,this.userService=t,this.isLoading$=new ut.X(!1),this.registrationForm=this.formBuilder.group({email:this.formBuilder.nonNullable.control("",[f.kI.email,f.kI.required]),firstName:this.formBuilder.nonNullable.control("",[f.kI.required]),lastName:this.formBuilder.nonNullable.control("",[f.kI.required]),password:this.formBuilder.nonNullable.control("",[f.kI.required]),passwordConfirm:this.formBuilder.nonNullable.control("",[f.kI.required,N.matchControl("password")])})}handleRegistrationSubmit(){if(this.registrationForm.invalid)return;const{email:o,firstName:t,lastName:n,password:i}=this.registrationForm.value;this.userService.register({email:o??"",firstName:t??"",lastName:n??"",password:i??""}).pipe(ct(this.isLoading$),it(this.registrationForm),lt(this)).subscribe()}};_.\u0275fac=function(o){return new(o||_)(r.Y36(f.qu),r.Y36(j.K))},_.\u0275cmp=r.Xpm({type:_,selectors:[["camp-registration-form"]],decls:32,vars:13,consts:[[2,"display","flex","flex-direction","column",3,"formGroup","submit"],["mode","indeterminate",4,"ngIf"],["appearance","fill",1,"form__field"],["matInput","","placeholder","pat@example.com","formControlName","email","autocomplete","email"],[4,"ngIf"],["matInput","","placeholder","Naruto","formControlName","firstName","autocomplete","additional-name"],["matInput","","placeholder","Uzumaki","formControlName","lastName","autocomplete","family-name"],["matInput","","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password","autocomplete","new-password"],["matInput","","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","passwordConfirm","autocomplete","new-password"],["mat-button","","type","submit","color","primary",3,"disabled"],["mode","indeterminate"]],template:function(o,t){1&o&&(r.TgZ(0,"form",0),r.NdJ("submit",function(){return t.handleRegistrationSubmit()}),r.YNc(1,qt,1,0,"mat-progress-bar",1),r.ALo(2,"async"),r.TgZ(3,"mat-form-field",2)(4,"mat-label"),r._uU(5,"Email"),r.qZA(),r._UZ(6,"input",3),r.YNc(7,Qt,2,0,"mat-error",4),r.YNc(8,Ht,2,1,"mat-error",4),r.qZA(),r.TgZ(9,"mat-form-field",2)(10,"mat-label"),r._uU(11,"First name"),r.qZA(),r._UZ(12,"input",5),r.YNc(13,Kt,2,1,"mat-error",4),r.qZA(),r.TgZ(14,"mat-form-field",2)(15,"mat-label"),r._uU(16,"Last name"),r.qZA(),r._UZ(17,"input",6),r.YNc(18,Xt,2,1,"mat-error",4),r.qZA(),r.TgZ(19,"mat-form-field",2)(20,"mat-label"),r._uU(21,"Password"),r.qZA(),r._UZ(22,"input",7),r.YNc(23,Vt,2,1,"mat-error",4),r.qZA(),r.TgZ(24,"mat-form-field",2)(25,"mat-label"),r._uU(26,"Password confirm"),r.qZA(),r._UZ(27,"input",8),r.YNc(28,kt,2,0,"mat-error",4),r.qZA(),r.TgZ(29,"button",9),r.ALo(30,"async"),r._uU(31," Register "),r.qZA()()),2&o&&(r.Q6J("formGroup",t.registrationForm),r.xp6(1),r.Q6J("ngIf",r.lcZ(2,9,t.isLoading$)),r.xp6(6),r.Q6J("ngIf",t.registrationForm.controls.email.hasError("email")),r.xp6(1),r.Q6J("ngIf",t.registrationForm.controls.email.hasError("appError")),r.xp6(5),r.Q6J("ngIf",t.registrationForm.controls.firstName.hasError("appError")),r.xp6(5),r.Q6J("ngIf",t.registrationForm.controls.lastName.hasError("appError")),r.xp6(5),r.Q6J("ngIf",t.registrationForm.controls.password.hasError("appError")),r.xp6(5),r.Q6J("ngIf",t.registrationForm.controls.passwordConfirm.hasError("match")),r.xp6(1),r.Q6J("disabled",r.lcZ(30,11,t.isLoading$)))},dependencies:[d.O5,f._Y,f.Fj,f.JJ,f.JL,f.sg,f.u,g.TO,g.KE,g.hX,R.Nt,O.pW,Z.lW,d.Ov],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),_=tt([at()],_);const te=[{path:"",title:"Login page",component:Wt,canActivate:[V]},{path:"registration",title:"Login page",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["camp-registration-page"]],decls:1,vars:0,consts:[[1,"registration-form"]],template:function(t,n){1&t&&r._UZ(0,"camp-registration-form",0)},dependencies:[_],styles:[".registration-form[_ngcontent-%COMP%]{width:400px;margin:0 auto}[_nghost-%COMP%]{display:block;height:100%}"],changeDetection:0}),e})(),canActivate:[V]}];let ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[d.ez,ft.m,L.Bz.forChild(te),g.lN,R.c,O.Cv,xt,Z.ot]}),e})()}}]);