import{r as i,u as x,a as A,A as l,b as d,j as e,B as p,c as L,d as c,F,e as h,L as b}from"./index.44b091a8.js";import{c as S,a as m,u as q,T as u}from"./object.07a838ac.js";const C={email:"",password:""},E=S().shape({email:m().email("Invalid email").required("This field is required"),password:m().required("This field is required")}),T=()=>{const t=x(),{error:o,isLoading:g}=A(s=>s.auth),f=s=>{t(l.loginUser(s))};i.exports.useEffect(()=>()=>{t(l.resetAuthErrorAndLoading())},[]);const{handleSubmit:v,setErrors:w,touched:a,errors:r,getFieldProps:n}=q({initialValues:C,onSubmit:f,validateOnChange:!0,validationSchema:E});return i.exports.useEffect(()=>{o!==void 0&&o instanceof d&&w(o.validationData)},[o]),e(p,{component:"form",onSubmit:v,children:g?e(L,{}):c(F,{children:[o!==void 0&&!(o instanceof d)?"Wrong email or password":void 0,e(u,{error:a.email&&r.email!==void 0,helperText:a.email&&r.email!==void 0?r.email:void 0,margin:"normal",required:!0,fullWidth:!0,label:"Email Address",autoComplete:"email",autoFocus:!0,...n("email")}),e(u,{margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",error:Boolean(a.password&&r.password!=null),helperText:a.password&&r.password!=null?r.password:void 0,autoComplete:"current-password",...n("password")}),e(h,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"})]})})},B=i.exports.memo(T),P=()=>c(p,{children:[e(B,{}),e(h,{component:b,color:"inherit",variant:"outlined",to:"/registration",children:"Create account"})]}),k=i.exports.memo(P);export{k as LoginPage,P as LoginPageComponent};
