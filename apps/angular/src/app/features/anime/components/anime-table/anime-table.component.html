<div *ngIf="paginatedAnimeList$| async as paginatedAnimeList">
  <mat-paginator
    [length]="paginatedAnimeList.total"
    [pageSizeOptions]="[5, 10, 20]"
    [pageSize]="paginatedAnimeList.paginationParams.limit"
    [pageIndex]="paginatedAnimeList.paginationParams.page - 1"
    showFirstLastButtons
    aria-label="Pagination panel"
    (page)="handlePaginationChange($event)"
  >
  </mat-paginator>
  <table
    mat-table
    [dataSource]="paginatedAnimeList.items"
    [trackBy]="trackByAnimeList"
    class="table mat-elevation-z8"
    aria-label="Anime Table"
  >
    <ng-container matColumnDef="image">
      <th mat-header-cell *matHeaderCellDef>Image</th>
      <td mat-cell *matCellDef="let anime">
        <img class="anime-image" [src]="anime.image" alt="" />
      </td>
    </ng-container>

    <ng-container matColumnDef="titleEng">
      <th mat-header-cell *matHeaderCellDef>Eng Title</th>
      <td mat-cell *matCellDef="let anime">{{ anime.titleEng }}</td>
    </ng-container>

    <ng-container matColumnDef="titleJpn">
      <th mat-header-cell *matHeaderCellDef>Jpn Title</th>
      <td mat-cell *matCellDef="let anime">{{ anime.titleJpn }}</td>
    </ng-container>

    <ng-container matColumnDef="airedStart">
      <th mat-header-cell *matHeaderCellDef>Aired start</th>
      <td mat-cell *matCellDef="let anime">
        {{ (anime.airedStart | date: "MMM yyyy") || "Not started" }}
      </td>
    </ng-container>

    <ng-container matColumnDef="type">
      <th mat-header-cell *matHeaderCellDef>Type</th>
      <td mat-cell *matCellDef="let anime">
        {{ toReadable.type(anime.type) }}
      </td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let anime">
        {{ toReadable.status(anime.status) }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</div>
